{"pageProps":{"post":{"id":"wpxml-develop-jquery-plugin","title":"jQueryプラグインを作成する（npmパッケージ化）","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-3adlbsplh2\" checked><label class=\"toc-title\" for=\"toc-checkbox-3adlbsplh2\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#最終的な成果物\">最終的な成果物</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#構成\">構成</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#npmパッケージ作成\">npmパッケージ作成</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#パッケージのインストール\">パッケージのインストール</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#webpackの設定\">webpackの設定</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#その他の設定\">その他の設定</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#実際の機能を実装\">実際の機能を実装</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#ビルド\">ビルド</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#パッケージの登録\">パッケージの登録</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#不要なファイルの除外設定\">不要なファイルの除外設定</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#npmユーザの登録\">npmユーザの登録</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#パッケージ登録\">パッケージ登録</a></li></ol></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#まとめ\">まとめ</a></li></ol></nav></div>先日初めてjQueryプラグインを作成しました。<br /><br />作成したものは以下の<span class=\"double-underline\">マーカーで塗るようなアニメーション</span>を行うプラグインです。<br /><br /><a href=\"https://technote-space.github.io/jquery.marker-animation/\" target=\"_blank\" rel=\"noreferrer noopener\">動作デモはこちら</a><br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Ftechnote.space%2Fprogramming%2Fjquery-marker-animation?id=blog-card-ssglfg83cb&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-develop-jquery-plugin%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-ssglfg83cb\"></iframe></div><br /><br />作成するにあたっての手順のメモです。<br /><br />環境はmacです。<br /><h2 id=\"最終的な成果物\">最終的な成果物<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#最終的な成果物\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />最初に今回作成したもの一式を置いておきます。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2Ftechnote-space%2Fjquery.marker-animation?id=blog-card-2mdonh97s8&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-develop-jquery-plugin%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-2mdonh97s8\"></iframe></div><br /><h2 id=\"構成\">構成<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#構成\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br /><ul><br /> \t<li>npmパッケージ化 (npm v6.4.1, node v11.3.0)</li><br /> \t<li>jQueryはnpmではなく外部（別途読み込まれているものを使用）</li><br /> \t<li>表示されたらアニメーションを開始する機能はnpmの「jquery-inview」を使用</li><br /> \t<li>Babalでトランスパイル</li><br /> \t<li>webpackでBabelやUglifyJSによるトランスパイルや最適化の実行</li><br /></ul><br /><h2 id=\"npmパッケージ作成\">npmパッケージ作成<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#npmパッケージ作成\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br /><pre>npm init</pre><br />コマンドを実行<br /><br />パッケージ名などを適宜入力します。<br /><h2 id=\"パッケージのインストール\">パッケージのインストール<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#パッケージのインストール\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />テストやトランスパイルを行うためのパッケージをインストールしました。<br /><ul><br /> \t<li>webpack（タスクランナー）</li><br /> \t<li>Babel（トランスパイル）</li><br /> \t<li>ESLint（構文チェック）</li><br /> \t<li>Mocha（テストフレームワーク）</li><br /> \t<li>istanbul（コードカバレッジ計測ツール）</li><br /> \t<li>jsdom（DOMを使用したテスト用）</li><br /></ul><br />最終的に「package.json」は以下のようなものになりました。<br /><pre>{<br />  \"name\": \"jquery.marker-animation\",<br />  \"version\": \"1.1.1\",<br />  \"description\": \"Marker animation jQuery plugin\",<br />  \"main\": \"jquery.marker-animation.min.js\",<br />  \"scripts\": {<br />    \"test\": \"npm run lint &#x26;&#x26; npm run cover\",<br />    \"lint\": \"eslint src/*.js\",<br />    \"cover\": \"NODE_ENV=test istanbul cover --report text _mocha\",<br />    \"mocha\": \"NODE_ENV=test mocha\",<br />    \"develop\": \"webpack --mode development\",<br />    \"build\": \"webpack --mode production\"<br />  },<br />  \"repository\": {<br />    \"type\": \"git\",<br />    \"url\": \"https://github.com/technote-space/jquery.marker-animation.git\"<br />  },<br />  \"keywords\": [<br />    \"jquery-plugin\",<br />    \"marker animation\"<br />  ],<br />  \"author\": \"technote\",<br />  \"bugs\": {<br />    \"url\": \"https://github.com/technote-space/jquery.marker-animation/issues\"<br />  },<br />  \"homepage\": \"https://github.com/technote-space/jquery.marker-animation#readme\",<br />  \"license\": \"GPL-3.0\",<br />  \"dependencies\": {<br />    \"jquery-inview\": \"^1.1.2\"<br />  },<br />  \"devDependencies\": {<br />    \"babel-core\": \"^6.26.3\",<br />    \"babel-loader\": \"^7.1.5\",<br />    \"babel-preset-es2015\": \"^6.24.1\",<br />    \"babel-register\": \"^6.26.0\",<br />    \"eslint\": \"^5.9.0\",<br />    \"istanbul\": \"^0.4.3\",<br />    \"jquery\": \"^3.3.1\",<br />    \"jsdom\": \"13.0.0\",<br />    \"mocha\": \"^5.2.0\",<br />    \"webpack\": \"^4.26.1\",<br />    \"webpack-cli\": \"^3.1.2\"<br />  }<br />}</pre><br />npmのversionコマンドで連携されるようにgitの設定を追加しました。<br /><pre>npm version patch</pre><br />上記コマンドでパッケージのバージョンアップとコミット、タグの作成を行ってくれるようになります。<br /><br />テストと構文チェックは以下を参考にしました。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fqiita.com%2Frenoji5126%2Fitems%2F09711d34fb30ca0cd84b?id=blog-card-p7i67thjt7&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-develop-jquery-plugin%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-p7i67thjt7\"></iframe></div><br /><h2 id=\"webpackの設定\">webpackの設定<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#webpackの設定\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />対象のJSファイルの指定や複数のモジュールパターンへの対応（umd）を行うための設定などを行いました。<br /><pre>const webpack = require('webpack');<br />const p = require('./package');<br /><br />const banner = `${p.name} ${p.version} - ${p.description}\\nCopyright (c) ${ new Date().getFullYear() } ${p.author} - ${p.homepage}\\nLicense: ${p.license}`;<br /><br />const webpackConfig = {<br />    'context': __dirname + '/src',<br />    'entry': './index.js',<br />    'output': {<br />        'path': __dirname,<br />        'filename': `${p.name}.min.js`,<br />        'library': `markerAnimation`,<br />        'libraryTarget': 'umd'<br />    },<br />    'module': {<br />        'rules': [{<br />            'test': /\\.js$/,<br />            'exclude': /node_modules/,<br />            'loader': 'babel-loader'<br />        }]<br />    },<br />    externals: {<br />        jquery: {<br />            root: 'jQuery',<br />            commonjs2: 'jquery',<br />            commonjs: 'jquery',<br />            amd: 'jquery'<br />        }<br />    },<br />    'plugins': [<br />        new webpack.BannerPlugin(banner)<br />    ]<br />};<br /><br />module.exports = webpackConfig;</pre><br />package.jsonの値を使用してコピーライトやライセンス情報も出力されるようにしています。<br /><br />モジュールパターンに関しては以下のページで理解しました。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fqiita.com%2Fchuck0523%2Fitems%2F1868a4c04ab4d8cdfb23?id=blog-card-druerb4gt2&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-develop-jquery-plugin%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-druerb4gt2\"></iframe></div><br /><br />「externals」は外部のjQueryを使用するために必要な設定です。<br /><h2 id=\"その他の設定\">その他の設定<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#その他の設定\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />BabelやESLintのための設定も必要です。<br /><br />ここまででようやく実装前に必要な設定が終わりです。<br /><br />PHPに比べてテストフレームワークなどで取りうる選択肢が多く、準備までが大変だと感じました。<br /><h2 id=\"実際の機能を実装\">実際の機能を実装<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#実際の機能を実装\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />実装のときにはumdパターンなどを気にする必要はありません。<br /><br />それはwebpackがやってくれます。<br /><br />jQueryプラグインなのでjQueryを使用できるようにする必要がありますが、外部のjQueryを使用する際も<br /><pre>import $ from 'jquery';</pre><br />でimportするだけです。<br /><br />webpackで設定されたlibraryTargetやexternalsによって、npmパッケージとして使用される場合や<br /><pre style=\"background: #2e3440\"><code style=\"color: undefined\">&#x3C;script type=\"text/javascript\" src=\"/assets/jquery.marker-animation.min.js\">&#x3C;/script></code></pre><br />のように読み込まれて使用される場合などでもいい感じにjQueryが使用されるようにビルドしてくれます。<br /><br />今回は別のjQueryプラグインを使用してjQueryに機能を追加したため、以下のようなコードになりました。<br /><pre>require('jquery-inview');<br />import $ from 'jquery';<br /><br />$.fn.markerAnimation = function (...args) {<br />    return this.each(function () {<br />        const target = $(this);<br />....<br /><br />    });<br />};<br /></pre><br /><h2 id=\"ビルド\">ビルド<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ビルド\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br /><pre>npm run build</pre><br />でpackage.jsonに設定したbuildスクリプトが実行されます。<br /><pre>webpack --mode production</pre><br /><h2 id=\"パッケージの登録\">パッケージの登録<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#パッケージの登録\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br /><h3 id=\"不要なファイルの除外設定\">不要なファイルの除外設定<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#不要なファイルの除外設定\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br />.npmignoreファイルでパッケージに不要なファイル（node_modulesなど）を除外しておきます。<br /><h3 id=\"npmユーザの登録\">npmユーザの登録<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#npmユーザの登録\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br /><pre>npm &#x3C;span class=\"nb\">set &#x3C;/span>init.author.name \"名前\"<br />npm &#x3C;span class=\"nb\">set &#x3C;/span>init.author.email \"メールアドレス\"<br />npm &#x3C;span class=\"nb\">set &#x3C;/span>init.author.url \"URL\"</pre><br /><pre>npm adduser</pre><br /><h3 id=\"パッケージ登録\">パッケージ登録<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#パッケージ登録\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br /><pre>npm publish</pre><br />これだけでパッケージが登録され公開状態になりました。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fjquery.marker-animation?id=blog-card-usjf7o6jj2&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-develop-jquery-plugin%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-usjf7o6jj2\"></iframe></div><br /><br />コマンドだけでユーザ登録とパッケージ登録が完了するのは少し驚きました。<br /><h2 id=\"まとめ\">まとめ<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#まとめ\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />「<span class=\"double-underline\">jQueryプラグインの作成</span>」「<span class=\"double-underline\">npmパッケージ</span>」のどちらも今回初めて行いました。<br /><br />普段はサーバサイドの開発ばかりなので、実装までの準備で結構時間を使ってしまいました。<br /><br />ただ、自分で作ったものが普段利用しているサービスで公開されるのはモチベーションアップに繋がると感じました。<br /><br />今後もいろいろ作っていきたいと思います。</body></html>","excerpt":"先日初めてjQueryプラグインを作成しました。 作成したものは以下のマーカーで塗るようなアニメーションを行うプラグインです。 <a href=\"\">動作デモはこちら</a> 作成するにあたっての手順のメモです。 環境はmacです。 最終的...","postType":"post","tags":[{"slug":"jquery","name":"jQuery"},{"slug":"node-js","name":"node.js"},{"slug":"npm","name":"npm"},{"slug":"%e3%83%9e%e3%83%bc%e3%82%ab%e3%83%bc%e3%82%a2%e3%83%8b%e3%83%a1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3","name":"マーカーアニメーション"}],"thumbnail":"https://technote.space/uploads/2018/12/npm-logo-red.png","dominantColor":"rgba(193,33,39,0.6039215686274509)","createdAt":"2018-12-02T17:57:35.000Z","updatedAt":null},"prev":{"id":"wpxml-marker-animation","title":"WordPressでマーカーアニメーション","excerpt":"先日マーカー（蛍光ペン）で線を引くようなアニメーションをつけるjQueryプラグインを作成しました。 <a href=\"\">動作デモはこちら</a>  せっかくなのでWordPressから簡単に使用できるようにプラグイン化しました。    ...","postType":"post","tags":[{"slug":"%e3%83%9e%e3%83%bc%e3%82%ab%e3%83%bc","name":"マーカー"},{"slug":"%e5%8b%95%e3%81%8f%e3%83%9e%e3%83%bc%e3%82%ab%e3%83%bc","name":"動くマーカー"},{"slug":"%e8%9b%8d%e5%85%89%e3%83%9a%e3%83%b3","name":"蛍光ペン"}],"thumbnail":"https://technote.space/uploads/2018/12/banner-772x250.png","createdAt":"2018-12-04T08:11:27.000Z","updatedAt":null},"next":{"id":"wpxml-programming-jquery-marker-animation","title":"マーカーアニメーションをjQueryプラグイン化してみた","excerpt":"画面に表示されたときにマーカー（蛍光ペン）で線を引くようなアニメーションを付けるjQueryプラグインを作成しました。 動作例 <a href=\"\">動作デモはこちら</a>    導入  ソースはGitHubで管理しています。    ダウ...","postType":"post","tags":[{"slug":"jquery","name":"jQuery"},{"slug":"marker-animation","name":"marker animation"},{"slug":"npm","name":"npm"},{"slug":"%e3%83%9e%e3%83%bc%e3%82%ab%e3%83%bc%e3%82%a2%e3%83%8b%e3%83%a1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3","name":"マーカーアニメーション"}],"thumbnail":"https://technote.space/uploads/2018/11/marker-animation.gif","createdAt":"2018-11-30T19:33:22.000Z","updatedAt":null},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}
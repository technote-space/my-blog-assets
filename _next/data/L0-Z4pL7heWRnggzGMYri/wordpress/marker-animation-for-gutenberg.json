{"pageProps":{"post":{"id":"wpxml-marker-animation-for-gutenberg","title":"Marker AnimationプラグインをGutenbergエディタに対応させました","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-qiean08rd8\" checked><label class=\"toc-title\" for=\"toc-checkbox-qiean08rd8\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#ツールバーにボタンを追加\">ツールバーにボタンを追加</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#プレビュー表示\">プレビュー表示</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#既知の問題\">既知の問題</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#2019520-追記\">2019/5/20 追記</a></li></ol></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#要望バグ報告等\">要望・バグ報告等</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#今後の予定\">今後の予定</a></li></ol></nav></div><p>Marker Animationプラグインは<span class=\"double-underline\">蛍光ペンを引くようなアニメーション</span>を設定できるようにするWordPressのプラグインです。 </p>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2Ftechnote-space%2Fmarker-animation?id=blog-card-ptve216tcq&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-marker-animation-for-gutenberg%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-ptve216tcq\"></iframe></div>\n\n<a href=\"https://technote-space.github.io/jquery.marker-animation/\" target=\"_blank\" rel=\"noreferrer noopener\">動作デモはこちら</a>\n\n<h2 id=\"ツールバーにボタンを追加\">ツールバーにボタンを追加<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ツールバーにボタンを追加\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<p>Gutenbergのツールバーにボタンを追加する方法は以前紹介しました。</p>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Ftechnote.space%2Fwordpress%2Fadd-button-to-gutenberg?id=blog-card-2qe6q040br&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-marker-animation-for-gutenberg%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-2qe6q040br\"></iframe></div>\n\n<p>下線を引いたり文字色を変えたりするのに便利な機能を追加することができるのですが、いくつもボタンを追加すると横に長くなってしまいます。</p>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/02/201902050230.png\"><img src=\"https://technote.space/uploads/2019/02/201902050230.png\" alt=\"\" class=\"wp-image-950\"></a></figure>\n\n<p>Marker Animationプラグインではマーカーの色や太さ、マーカーを引く速さなどをセットにした設定をいくつも保存できるため、<span class=\"double-underline\">ドロップダウン形式でまとまるようにボタンを追加</span>しました。</p>\n\n<figure class=\"wp-block-image\"><img src=\"https://technote.space/uploads/2019/02/201902050242.png\" alt=\"\" class=\"wp-image-958\"></figure>\n\n<h2 id=\"プレビュー表示\">プレビュー表示<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#プレビュー表示\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<p>引いたマーカーと同じ色で表示できるようにしました。</p>\n\n<p>Marker Animationは色を自由に設定できるため、あらかじめ決められたクラスにCSSで色を付けておくことができません。</p>\n\n<p>後から設定を変えてもその色になるような仕組みになっています。</p>\n\n<ul class=\"wp-block-gallery columns-3 is-cropped\"><li class=\"blocks-gallery-item\"><figure><a href=\"https://technote.space/uploads/2019/02/201902050257.png\" target=\"_blank\" rel=\"noreferrer noopener\"><img src=\"https://technote.space/uploads/2019/02/201902050257.png\" alt=\"\" data-id=\"966\" data-link=\"/?attachment_id=966\" class=\"wp-image-966\"></a><figcaption>変更前</figcaption></figure></li><li class=\"blocks-gallery-item\"><figure><a href=\"https://technote.space/uploads/2019/02/201902050258.png\"><img src=\"https://technote.space/uploads/2019/02/201902050258.png\" alt=\"\" data-id=\"967\" data-link=\"/?attachment_id=967\" class=\"wp-image-967\"></a><figcaption>色を変更</figcaption></figure></li><li class=\"blocks-gallery-item\"><figure><a href=\"https://technote.space/uploads/2019/02/201902050310.png\"><img src=\"https://technote.space/uploads/2019/02/201902050310.png\" alt=\"\" data-id=\"968\" data-link=\"/?attachment_id=968\" class=\"wp-image-968\"></a><figcaption>変更後</figcaption></figure></li></ul>\n\n<h2 id=\"既知の問題\">既知の問題<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#既知の問題\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<p>Gutenberg側にバグと思われる動作があり、設定で追加したものを削除したとき等にエディタ側のみでおかしな動きをする可能性があります。</p>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Ftechnote.space%2Fwordpress%2Fgutenberg-richtext-bug?id=blog-card-elslsd1tq4&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-marker-animation-for-gutenberg%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-elslsd1tq4\"></iframe></div>\n\n<h3 id=\"2019520-追記\">2019/5/20 追記<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#2019520-追記\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n\n<p>WordPress v5.2 でこの現象は解消されました。</p>\n\n<h2 id=\"要望バグ報告等\">要望・バグ報告等<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#要望バグ報告等\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2Ftechnote-space%2Fmarker-animation%2Fissues?id=blog-card-cm8fq52ttd&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-marker-animation-for-gutenberg%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-cm8fq52ttd\"></iframe></div>\n\n<h2 id=\"今後の予定\">今後の予定<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#今後の予定\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2Ftechnote-space%2Fmarker-animation%2Fprojects%2F1?id=blog-card-dbqndg32jk&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-marker-animation-for-gutenberg%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-dbqndg32jk\"></iframe></div>\n<!-- /wp:paragraph --></body></html>","excerpt":"Marker Animationプラグインは蛍光ペンを引くようなアニメーションを設定できるようにするWordPressのプラグインです。 <a href=\"\">動作デモはこちら</a>   ツールバーにボタンを追加  Gutenbergのツ...","postType":"post","tags":[{"slug":"dropdown","name":"DropDown"},{"slug":"gutenberg","name":"Gutenberg"},{"slug":"richtext","name":"RichText"},{"slug":"%e3%83%aa%e3%83%83%e3%83%81%e3%83%86%e3%82%ad%e3%82%b9%e3%83%88","name":"リッチテキスト"}],"thumbnail":"https://technote.space/uploads/2018/12/banner-772x250.png","dominantColor":"rgba(179,232,192,1)","createdAt":"2019-02-06T08:42:43.000Z","updatedAt":null},"prev":{"id":"wpxml-check-copy-contents-csrf","title":"Check Copy Contents(CCC) の利用における注意点","excerpt":"Check Copy Contents(CCC)はブログをコピーされたときに通知を行うことのできるプラグインです。 このプラグインには最新のバージョン（v1.4.1）のプログラムに問題があるため使用には注意が必要です。 追記：2019/5/...","postType":"post","tags":[{"slug":"csrf","name":"CSRF"},{"slug":"%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3","name":"セキュリティ"},{"slug":"%e8%84%86%e5%bc%b1%e6%80%a7","name":"脆弱性"}],"thumbnail":"https://technote.space/uploads/2018/11/computer_virus_backdoor.png","createdAt":"2019-02-11T06:09:48.000Z","updatedAt":null},"next":{"id":"wpxml-gutenberg-richtext-bug","title":"Gutenbergのリッチテキストの既知の問題","excerpt":"経緯 こちらの記事の現象が開発中のプラグインでも発生したため原因を調査しました。   現象   1. クラスとタグ名を指定して registerFormatType でフォーマットタイプを登録  2. ビジュアルエディタのツールボタン等から...","postType":"post","tags":[{"slug":"gutenberg","name":"Gutenberg"},{"slug":"%e3%83%90%e3%82%b0","name":"バグ"},{"slug":"%e3%83%aa%e3%83%83%e3%83%81%e3%83%86%e3%82%ad%e3%82%b9%e3%83%88","name":"リッチテキスト"}],"thumbnail":"https://technote.space/uploads/2018/12/banner-772x250.jpg","createdAt":"2019-02-06T08:18:46.000Z","updatedAt":null},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}
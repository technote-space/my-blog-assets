{"pageProps":{"post":{"id":"wpxml-programming-vs-confuserex","title":"【Visual Studio 2017 C#】難読化の自動化","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-l055qop2if\" checked><label class=\"toc-title\" for=\"toc-checkbox-l055qop2if\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#目次\">目次</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#confuserexプロジェクト生成\">ConfuserExプロジェクト生成</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#プロジェクトのnet-frameworkのバージョンを変更\">プロジェクトの.NET Frameworkのバージョンを変更</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#プロジェクトのビルド後イベントを設定\">プロジェクトのビルド後イベントを設定</a></li></ol></nav></div><div class=\"memo-box\">ビルド実行後に難読化処理を行うプロジェクトの設定に関するメモ<br /><a href=\"/programming/vs-trial-product-solution\" rel=\"noreferrer noopener\" target=\"_blank\">製品版と試用版のソリューション</a> の続き<br />難読化は「Release」と「Release_trial」</div><br /><h2 id=\"目次\">目次<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#目次\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />１．<a href=\"/programming/vs-trial-product-solution\" target=\"_blank\" rel=\"noreferrer noopener\">製品版と試用版をビルド構成で切り替えできるように設定</a><br /><br />２．<a href=\"/programming/vs-confuserex\" target=\"_blank\" rel=\"noreferrer noopener\">難読化の自動化</a>　&#x3C;-今ここ<br /><br />３．<a href=\"/programming/vs-installer\" target=\"_blank\" rel=\"noreferrer noopener\">インストーラ作成の自動化</a><br /><br />４．<a href=\"/programming/vs-installer-merge\" target=\"_blank\" rel=\"noreferrer noopener\">setup.exe と Setup.msi のマージの自動化</a><br /><br />５．<a href=\"/programming/vs-zip\" target=\"_blank\" rel=\"noreferrer noopener\">ZIPにまとめる動作の自動化</a><br /><h2 id=\"confuserexプロジェクト生成\">ConfuserExプロジェクト生成<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#confuserexプロジェクト生成\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />１．ConfuserExのダウンロード<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2Fyck1509%2FConfuserEx%2Freleases?id=blog-card-h0d175hdqh&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-programming-vs-confuserex%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-h0d175hdqh\"></iframe></div><br /><br />ConfuserEx_bin.zip<br /><br />２．わかりやすいところに展開（以下は「C:\\ConfuserEx_bin」）<br /><br />３．ConfuserEx.exeを開く<br /><br />４．難読化するファイルをD&#x26;D<br /><br />(以下はインストーラ作成用にobjに生成されたexeを対象にしている)<br /><br /><a href=\"https://technote.space/uploads/2018/06/201806190156.png\"><img class=\"alignnone size-medium wp-image-95\" src=\"https://technote.space/uploads/2018/06/201806190156-300x243.png\" alt=\"\" width=\"300\" height=\"243\"></a><br /><br />５．難読化設定を追加<br /><br /><a href=\"https://technote.space/uploads/2018/06/201806190157.png\"><img class=\"alignnone size-medium wp-image-89\" src=\"https://technote.space/uploads/2018/06/201806190157-300x226.png\" alt=\"\" width=\"300\" height=\"226\"></a><br /><br /><a href=\"https://technote.space/uploads/2018/06/201806190158.png\"><img class=\"alignnone size-medium wp-image-90\" src=\"https://technote.space/uploads/2018/06/201806190158-300x226.png\" alt=\"\" width=\"300\" height=\"226\"></a><br /><br /><a href=\"https://technote.space/uploads/2018/06/201806190200.png\"><img class=\"alignnone size-medium wp-image-91\" src=\"https://technote.space/uploads/2018/06/201806190200-200x300.png\" alt=\"\" width=\"200\" height=\"300\"></a><br /><br />６．正しく動作するか確認<br /><br /><a href=\"https://technote.space/uploads/2018/06/201806190203.png\"><img class=\"alignnone size-medium wp-image-97\" src=\"https://technote.space/uploads/2018/06/201806190203-300x226.png\" alt=\"\" width=\"300\" height=\"226\"></a><br /><br />７．わかりやすいところにConfuserExプロジェクトを保存<br /><br />（以下は<br /><br />「D:\\workspace\\Sample1\\ConfuserEx\\Release.crproj」、<br /><br />「D:\\workspace\\Sample1\\ConfuserEx\\Release_trial.crproj」）<br /><div><a href=\"https://technote.space/uploads/2018/06/201806190205-1.png\"><img class=\"alignnone size-medium wp-image-149\" src=\"https://technote.space/uploads/2018/06/201806190205-1-285x300.png\" alt=\"\" width=\"285\" height=\"300\"></a></div><br /><h2 id=\"プロジェクトのnet-frameworkのバージョンを変更\">プロジェクトの.NET Frameworkのバージョンを変更<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#プロジェクトのnet-frameworkのバージョンを変更\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br /><div>ConfuserExがサポートしているのは2.0 - 4.5であるため、それに合わせてバージョンを修正</div><br /><div></div><br /><div><a href=\"https://technote.space/uploads/2018/06/201806191311.png\"><img class=\"alignnone size-medium wp-image-143\" src=\"https://technote.space/uploads/2018/06/201806191311-300x185.png\" alt=\"\" width=\"300\" height=\"185\"></a></div><br /><h2 id=\"プロジェクトのビルド後イベントを設定\">プロジェクトのビルド後イベントを設定<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#プロジェクトのビルド後イベントを設定\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br /><div class=\"comment-box\">構成で切り替えることができないためif文で分岐させる</div><br /><pre>if $(ConfigurationName) == Release (<br />  \"C:\\ConfuserEx_bin\\Confuser.CLI.exe\" -n \"$(SolutionDir)ConfuserEx\\Release.crproj\"<br />)<br />if $(ConfigurationName) == Release_trial (<br />  \"C:\\ConfuserEx_bin\\Confuser.CLI.exe\" -n \"$(SolutionDir)ConfuserEx\\Release_trial.crproj\"<br />)</pre><br /><a href=\"https://technote.space/uploads/2018/06/201806190230.png\"><img class=\"alignnone size-medium wp-image-102\" src=\"https://technote.space/uploads/2018/06/201806190230-300x300.png\" alt=\"\" width=\"300\" height=\"300\"></a><br /><br />次 ⇒ <a href=\"/programming/vs-installer\" target=\"_blank\" rel=\"noreferrer noopener\">インストーラ作成の自動化</a></body></html>","excerpt":"ビルド実行後に難読化処理を行うプロジェクトの設定に関するメモ 製品版と試用版のソリューション の続き 難読化は「Release」と「Release_trial」 目次 １．製品版と試用版をビルド構成で切り替えできるように設定 ２．難読化の自...","postType":"post","tags":[{"slug":"c","name":"C#"},{"slug":"confuserex","name":"ConfuserEx"},{"slug":"%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0","name":"プログラミング"},{"slug":"%e9%9b%a3%e8%aa%ad%e5%8c%96","name":"難読化"}],"thumbnail":"https://technote.space/uploads/2018/06/C.png","dominantColor":"rgba(144,89,154,1)","createdAt":"2018-06-18T17:32:00.000Z","updatedAt":null},"prev":{"id":"wpxml-programming-vs-installer","title":"【Visual Studio 2017 C#】インストーラ作成の自動化","excerpt":"難読化後にインストーラ作成を行うソリューションの設定に関するメモ 難読化の自動化 の続き 目次 １．製品版と試用版をビルド構成で切り替えできるように設定 ２．難読化の自動化 ３．インストーラ作成の自動化　<-今ここ ４．setup.exe ...","postType":"post","tags":[{"slug":"c","name":"C#"},{"slug":"%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%a9","name":"インストーラ"},{"slug":"%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0","name":"プログラミング"}],"thumbnail":"https://technote.space/uploads/2018/06/C.png","createdAt":"2018-06-18T18:09:52.000Z","updatedAt":null},"next":{"id":"wpxml-programming-vs-trial-product-solution","title":"【Visual Studio 2017 C#】製品版と試用版のソリューション","excerpt":"製品版と試用版を一つのソリューションで管理し、構成の切り替えでそれぞれの出力を行えるようなソリューション設定に関するメモ 目次 １．製品版と試用版をビルド構成で切り替えできるように設定　<-今ここ ２．難読化の自動化 ３．インストーラ作成の...","postType":"post","tags":[{"slug":"c","name":"C#"},{"slug":"%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0","name":"プログラミング"}],"thumbnail":"https://technote.space/uploads/2018/06/C.png","createdAt":"2018-06-18T16:40:10.000Z","updatedAt":null},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}
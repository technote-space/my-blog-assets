{"pageProps":{"post":{"id":"wpxml-gutenberg-5-3-richtext-dropdown","title":"Gutenberg v5.3 からリッチテキストのツールバーはドロップダウンにまとまります","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-rlponk81n2\" checked><label class=\"toc-title\" for=\"toc-checkbox-rlponk81n2\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#リッチテキストのツールバーの変更\">リッチテキストのツールバーの変更</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#gutenberg-プラグインを使用する際の注意点\">Gutenberg プラグインを使用する際の注意点</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#このエラーに関連するコミット\">このエラーに関連するコミット</a></li></ol></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#v53-のリッチテキストに関連するプルリクエスト\">v5.3 のリッチテキストに関連するプルリクエスト</a></li></ol></nav></div><p>2019/3/30 に <strong>Gutenberg v5.3</strong>  がリリースされました。</p>\n\n<p><span class=\"double-underline\">使用するブロックを管理する機能</span>や<span class=\"double-underline\">カバーブロックの機能改善</span>などの修正が含まれています。</p>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fmake.wordpress.org%2Fcore%2F2019%2F03%2F20%2Fwhats-new-in-gutenberg-20th-march%2F?id=blog-card-nieugipdpt&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-gutenberg-5-3-richtext-dropdown%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-nieugipdpt\"></iframe></div>\n\n<p>現在はプラグインでのみ試すことができますが、近々WordPressの本体にも取り込まれることでしょう。</p>\n\n<h2 id=\"リッチテキストのツールバーの変更\">リッチテキストのツールバーの変更<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#リッチテキストのツールバーの変更\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<p><strong>リッチテキスト</strong>とは通常の文章を入力するコンポーネントでおそらくもっとも使われているものです。</p>\n\n<p>このリッチテキストにはいくつかの装飾用のツールボタンがもともとついていますが、プログラムによって追加することもできます。</p>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Ftechnote.space%2Fwordpress%2Fadd-button-to-gutenberg?id=blog-card-35tgosgdl7&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-gutenberg-5-3-richtext-dropdown%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-35tgosgdl7\"></iframe></div>\n\n<p>今までは追加したら追加しただけツールバーの後ろに追加され、横に長くなってしまう仕様でした。</p>\n\n<p>Gutenberg v5.3 では以下の３つのボタン及びプログラムで追加されたボタンが<span class=\"double-underline\">ドロップダウンにまとまるようになります。</span></p>\n\n<ul><li>コード</li><li>インライン画像</li><li>打ち消し線</li></ul>\n\n<ul class=\"wp-block-gallery columns-2 is-cropped\"><li class=\"blocks-gallery-item\"><figure><a href=\"https://technote.space/uploads/2019/03/201903211602.png\" target=\"_blank\" rel=\"noreferrer noopener\"><img src=\"https://technote.space/uploads/2019/03/201903211602.png\" alt=\"\" data-id=\"1224\" data-link=\"/?attachment_id=1224\" class=\"wp-image-1224\"></a><figcaption>今までのツールバー</figcaption></figure></li><li class=\"blocks-gallery-item\"><figure><a href=\"https://technote.space/uploads/2019/03/201903211605.png\"><img src=\"https://technote.space/uploads/2019/03/201903211605.png\" alt=\"\" data-id=\"1225\" data-link=\"/?attachment_id=1225\" class=\"wp-image-1225\"></a><figcaption>v5.3 からのツールバー</figcaption></figure></li></ul>\n\n<h2 id=\"gutenberg-プラグインを使用する際の注意点\">Gutenberg プラグインを使用する際の注意点<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#gutenberg-プラグインを使用する際の注意点\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<p>以下の手順を踏むとエラーが発生します。</p>\n\n<ol><li>Gutenbergプラグインを有効化</li><li>ブロックエディタを表示</li><li>Gutenbergプラグインを無効化</li><li>再度ブロックエディタを表示⇒エラー発生（既存の記事の編集・新規投稿のどちらでも）</li></ol>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/03/201903211622.png\"><img src=\"https://technote.space/uploads/2019/03/201903211622.png\" alt=\"\" class=\"wp-image-1229\"></a></figure>\n\n<p>ローカルストレージの「WP_DATA_USER_1」のようなものを削除すれば解消されます。</p>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/03/201903211627.png\"><img src=\"https://technote.space/uploads/2019/03/201903211627.png\" alt=\"\" class=\"wp-image-1230\"></a></figure>\n\n<p>ただし諸々の設定などが初期化されるので注意してください。</p>\n\n<h3 id=\"このエラーに関連するコミット\">このエラーに関連するコミット<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#このエラーに関連するコミット\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2FWordPress%2Fgutenberg%2Fcommit%2F0c4f457b0bf2dd3b97a20edda216288c11b05466?id=blog-card-g27a51aafk&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-gutenberg-5-3-richtext-dropdown%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-g27a51aafk\"></iframe></div>\n\n<p>今まで記事の投稿のみでしか使用できなかったブロックエディタを汎用的に使用できるようにする素晴らしい修正ですが、<em>preferences.insertUsage</em> の扱いに関する考慮漏れがあります。</p>\n\n<p>上記の差分を見るとわかりますが先に挙げた削除による解決方法以外に、 <em>core/editor</em> の<em>preferences.insertUsage</em> を追加する方法もあり、その場合は設定等が初期化されることはありません。</p>\n\n<h2 id=\"v53-のリッチテキストに関連するプルリクエスト\">v5.3 のリッチテキストに関連するプルリクエスト<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#v53-のリッチテキストに関連するプルリクエスト\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2FWordPress%2Fgutenberg%2Fpull%2F14233?id=blog-card-em4oifvdfs&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-gutenberg-5-3-richtext-dropdown%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-em4oifvdfs\"></iframe></div>\n<!-- /wp:paragraph --></body></html>","excerpt":"2019/3/30 に Gutenberg v5.3 がリリースされました。 使用するブロックを管理する機能やカバーブロックの機能改善などの修正が含まれています。 現在はプラグインでのみ試すことができますが、近々WordPressの本体にも...","postType":"post","tags":[{"slug":"gutenberg","name":"Gutenberg"},{"slug":"richtext","name":"RichText"},{"slug":"%e3%83%89%e3%83%ad%e3%83%83%e3%83%97%e3%83%80%e3%82%a6%e3%83%b3","name":"ドロップダウン"}],"thumbnail":"https://technote.space/uploads/2018/12/banner-772x250.jpg","dominantColor":"rgba(111,111,111,1)","createdAt":"2019-03-21T07:42:29.000Z","updatedAt":null},"prev":null,"next":{"id":"markdown-2022-08-13-makefile-change-command-dynamically","title":"Makefile で 動的にコマンドを変える方法","excerpt":"概要 使用できるコマンドかどうかチェックして、使用できない場合は別のコマンドを使用するみたいなことをやりたかったので  例えば、docker-compose がインストールされている場合はそれを使用、それ以外の場合は docker comp...","postType":"post","tags":[{"slug":"makefile","name":"makefile"}],"thumbnail":null,"createdAt":"2022-08-12T15:00:00.000Z","updatedAt":"2022-08-12T15:00:00.000Z"},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}
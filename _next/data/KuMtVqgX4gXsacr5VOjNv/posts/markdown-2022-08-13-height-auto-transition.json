{"pageProps":{"post":{"id":"markdown-2022-08-13-height-auto-transition","title":"auto height で transition","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-m5g1t2ecp3\" checked><label class=\"toc-title\" for=\"toc-checkbox-m5g1t2ecp3\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#概要\">概要</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#max-height-によるホバー開閉の実装例\">max-height によるホバー開閉の実装例</a></li></ol></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#実装\">実装</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#詳細\">詳細</a></li></ol></li></ol></nav></div><h2 id=\"概要\">概要<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#概要\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n<p>このブログの目次でも使用している以下のような動作</p>\n<p><img src=\"https://technote.space/uploads/2022/08/202208122038.gif\" alt=\"behavior\"></p>\n<p><code>max-height</code> を使用する方法が紹介されている事があるが、動きが不自然になる。</p>\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fmemowomome.hatenablog.com%2Fentry%2F2016%2F08%2F03%2F080000?id=blog-card-lsl8mcpble&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fmarkdown-2022-08-13-height-auto-transition%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-lsl8mcpble\"></iframe></div>\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Funformedbuilding.com%2Farticles%2Fauto-height-css-transitions%2F?id=blog-card-91f6jgvlp4&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fmarkdown-2022-08-13-height-auto-transition%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-91f6jgvlp4\"></iframe></div>\n<h3 id=\"max-height-によるホバー開閉の実装例\"><code>max-height</code> によるホバー開閉の実装例<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#max-height-によるホバー開閉の実装例\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n<div class=\"embed-stackblitz\" style=\"width:100%;padding-bottom:56.25%;height:0;position:relative\"><iframe src=\"https://stackblitz.com/edit/web-platform-7gpsyu?file=styles.css&#x26;embed=1\" style=\"position:absolute;top:0;left:0;width:100%;height:100%\" scrolling=\"no\" frameborder=\"no\" allowfullscreen loading=\"lazy\"></iframe></div>\n<p>ホバーを外したあともしばらく残り続けてしまう事がわかる。</p>\n<h2 id=\"実装\">実装<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#実装\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n<p>内側の要素の <code>line-height</code> でアニメーションさせた。</p>\n<div class=\"embed-stackblitz\" style=\"width:100%;padding-bottom:56.25%;height:0;position:relative\"><iframe src=\"https://stackblitz.com/edit/web-platform-enfhwd?file=styles.css&#x26;embed=1\" style=\"position:absolute;top:0;left:0;width:100%;height:100%\" scrolling=\"no\" frameborder=\"no\" allowfullscreen loading=\"lazy\"></iframe></div>\n<h3 id=\"詳細\">詳細<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#詳細\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n<p>主にホバー時に表示する要素（今回は <code>li</code> とその内側の <code>a</code>）にスタイルを適用</p>\n<ol>\n<li>未ホバー時のセレクタに <code>transition</code> と閉じているときのスタイルを設定\n<pre style=\"background: #2e3440\"><code class=\"language-css\"><span style=\"color: #81A1C1\">nav</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #D8DEE9FF\">,</span>\n<span style=\"color: #81A1C1\">nav</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">a</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">transition</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #81A1C1\">all</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">.3</span><span style=\"color: #81A1C1\">s</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #81A1C1\">ease-out;</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">opacity</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">line-height</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span>\n</code></pre>\n</li>\n<li>ホバー時のセレクタに開いているときのスタイルを設定\n<pre style=\"background: #2e3440\"><code class=\"language-css\"><span style=\"color: #81A1C1\">nav</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #8FBCBB\">hover</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #D8DEE9FF\">,</span>\n<span style=\"color: #81A1C1\">nav</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #8FBCBB\">hover</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">ul</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">li</span><span style=\"color: #D8DEE9FF\"> > </span><span style=\"color: #81A1C1\">a</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">opacity</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">line-height</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">2</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span>\n</code></pre>\n</li>\n</ol>\n<p><code>opacity</code> は本来ホバー時に表示される文字が表示されてしまうので指定した。</p></body></html>","excerpt":"概要 このブログの目次でも使用している以下のような動作 max-height を使用する方法が紹介されている事があるが、動きが不自然になる。   max-height によるホバー開閉の実装例  ホバーを外したあともしばらく残り続けてしまう...","postType":"post","tags":[{"slug":"css","name":"css"}],"thumbnail":"https://technote.space/uploads/2022/08/202208122038.gif","dominantColor":"rgba(108,109,111,1)","createdAt":"2022-08-12T15:00:00.000Z","updatedAt":"2022-08-12T15:00:00.000Z"},"prev":{"id":"markdown-2022-08-13-makefile-change-command-dynamically","title":"Makefile で 動的にコマンドを変える方法","excerpt":"概要 使用できるコマンドかどうかチェックして、使用できない場合は別のコマンドを使用するみたいなことをやりたかったので  例えば、docker-compose がインストールされている場合はそれを使用、それ以外の場合は docker comp...","postType":"post","tags":[{"slug":"makefile","name":"makefile"}],"thumbnail":null,"createdAt":"2022-08-12T15:00:00.000Z","updatedAt":"2022-08-12T15:00:00.000Z"},"next":{"id":"markdown-2021-09-27-test-toc","title":"目次の動作テスト","excerpt":"目次の動作テスト 見出し２のテスト１  これは１つめの見出し２です。  見出し２のテスト２  これは２つめの見出し２です。  見出し３のテスト１  これは１つめの見出し３です。  見出し３のテスト２  これは２つめの見出し３です。  見出し...","postType":"post","tags":[{"slug":"test","name":"test"},{"slug":"テスト","name":"テスト"},{"slug":"toc","name":"toc"}],"thumbnail":"/images/pet_cat_oddeye_black.png","createdAt":"2021-09-26T15:00:00.000Z","updatedAt":"2021-11-06T15:00:00.000Z"},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}
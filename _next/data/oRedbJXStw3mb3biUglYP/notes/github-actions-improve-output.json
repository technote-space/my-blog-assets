{"pageProps":{"post":{"id":"wpxml-github-actions-improve-output","title":"GitHub Actions のログを見やすくする","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-fknq91r0qg\" checked><label class=\"toc-title\" for=\"toc-checkbox-fknq91r0qg\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#フォーマット\">フォーマット</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#warning\">warning</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#error\">error</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#debug\">debug</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#group\">group</a></li></ol></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#ライブラリ\">ライブラリ</a></li></ol></nav></div><p><code>console.log</code> や <code>process.stdout.write</code> でログに出力できますが、特定のフォーマットで出力することでログが見やすくなります。</p>\n\n<h2 id=\"フォーマット\">フォーマット<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#フォーマット\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<h3 id=\"warning\">warning<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#warning\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n\n<p>警告メッセージを表示する際に使用します。</p>\n\n<pre class=\"language-js\" style=\"background: #2e3440\"><code class=\"language-js\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">EOL</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">from</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">os</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::warning::warning...</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span></code></pre>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/09/201909241645.png\"><img src=\"https://technote.space/uploads/2019/09/201909241645.png\" alt=\"\" class=\"wp-image-2165\"></a></figure>\n\n<h3 id=\"error\">error<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#error\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n\n<p>エラーメッセージを表示する際に使用します。</p>\n\n<pre class=\"language-js\" style=\"background: #2e3440\"><code class=\"language-js\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">EOL</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">from</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">os</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::error::error...</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span></code></pre>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/09/201909241646.png\"><img src=\"https://technote.space/uploads/2019/09/201909241646.png\" alt=\"\" class=\"wp-image-2166\"></a></figure>\n\n<h3 id=\"debug\">debug<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#debug\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n\n<p>デバッグメッセージを出力する際に使用します。</p>\n\n<pre class=\"language-js\" style=\"background: #2e3440\"><code class=\"language-js\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">EOL</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">from</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">os</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::debug::debug...</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span></code></pre>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/09/201909241648.png\"><img src=\"https://technote.space/uploads/2019/09/201909241648.png\" alt=\"\" class=\"wp-image-2168\"></a></figure>\n\n<p>特に何もしていない場合は出力されません。</p>\n\n<p>Secrets から <code>ACTIONS_STEP_DEBUG</code> に <code>true</code> を設定することで出力されます。</p>\n\n<figure class=\"wp-block-image\"><a href=\"https://technote.space/uploads/2019/09/201909241647.png\"><img src=\"https://technote.space/uploads/2019/09/201909241647.png\" alt=\"\" class=\"wp-image-2167\"></a></figure>\n\n<h3 id=\"group\">group<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#group\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3>\n\n<p>ログ出力をグループ化できます。</p>\n\n<p>グループを閉じる <code>endgroup</code> と共に使用します。</p>\n\n<pre class=\"language-js\" style=\"background: #2e3440\"><code class=\"language-js\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">EOL</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">from</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">os</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::group::Test</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::debug::debug...</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::error::error...</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::warning::warning...</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">process</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">stdout</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">write</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">::endgroup::</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> EOL)</span><span style=\"color: #81A1C1\">;</span></code></pre>\n\n<h2 id=\"ライブラリ\">ライブラリ<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#ライブラリ\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2>\n\n<p>これらに機能を簡単に利用できる方法が用意されています。</p>\n\n<div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgithub.com%2Factions%2Ftoolkit%2Ftree%2Fmaster%2Fpackages%2Fcore?id=blog-card-q8fhb4ei1q&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-github-actions-improve-output%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-q8fhb4ei1q\"></iframe></div>\n\n<pre class=\"wp-block-code\" style=\"background: #2e3440\"><code style=\"color: undefined\">const core = require('@actions/core');\n\ncore.startGroup('Test');\ncore.debug('debug...');\ncore.error('error...');\ncore.warning('warning...');\ncore.endGroup();</code></pre>\n<!-- /wp:code --></body></html>","excerpt":"や でログに出力できますが、特定のフォーマットで出力することでログが見やすくなります。 フォーマット WARNING  警告メッセージを表示する際に使用します。     ERROR  エラーメッセージを表示する際に使用します。     DE...","postType":"post","tags":[{"slug":"github-actions","name":"GitHub Actions"}],"thumbnail":"https://technote.space/uploads/2019/08/github-actions.png","dominantColor":"rgba(169,134,123,0.6666666666666666)","createdAt":"2019-09-24T08:29:04.000Z","updatedAt":null},"prev":{"id":"wpxml-package-version-check-action","title":"npmパッケージ公開時にpackage.jsonのバージョンが正しいかチェックするGitHub Actions","excerpt":"概要 想定しているフロー 1. default branch からリリース用ブランチを作成（例：release/v1.2.3）  2. 機能追加用ブランチ（例：feature/#123）やバグ修正用ブランチ（例：fix/#321）を切って開...","postType":"post","tags":[{"slug":"github-actions","name":"GitHub Actions"},{"slug":"npm","name":"npm"},{"slug":"typescript","name":"typescript"}],"thumbnail":"https://technote.space/uploads/2019/08/github-actions.png","createdAt":"2019-10-09T16:05:48.000Z","updatedAt":null},"next":{"id":"wpxml-release-github-actions","title":"GitHub Actions のリリース手順を自動化する GitHub Actions","excerpt":"GitHub Actions の種類にはDockerコンテナ版とJavaScript版があります。 元々はDocker版しかなかったようですが、JavaScript版は起動がとても早く、これからはJavaScript版が主流になっていくと思...","postType":"post","tags":[{"slug":"github-actions","name":"GitHub Actions"}],"thumbnail":"https://technote.space/uploads/2019/08/github-actions.png","createdAt":"2019-09-16T08:55:54.000Z","updatedAt":null},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}
{"pageProps":{"post":{"id":"wpxml-security-wordpress-related-posts","title":"関連記事プラグイン「WordPress Related Posts」のメリット・デメリット","content":"<html><head></head><body><div class=\"toc-wrapper\"><input type=\"checkbox\" class=\"toc-checkbox\" id=\"toc-checkbox-81fp0a7dh3\" checked><label class=\"toc-title\" for=\"toc-checkbox-81fp0a7dh3\">目次</label><nav class=\"toc\"><ol class=\"toc-level toc-level-1\"><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#wordpress-related-posts-の特徴\">WordPress Related Posts の特徴</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#非常に有用なプラグイン\">非常に有用なプラグイン</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#プラグインを有効化したとき\">プラグインを有効化したとき</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#設定画面に毎日アクセスしてみる\">設定画面に毎日アクセスしてみる</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#無効化時\">無効化時</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#設定画面にアクセス時\">設定画面にアクセス時</a></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#どのような判断で関連記事を決めているか\">どのような判断で関連記事を決めているか</a><ol class=\"toc-level toc-level-2\"><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#tfの算出\">tfの算出</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#idfの算出\">idfの算出</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#評価値の算出\">評価値の算出</a></li><li class=\"toc-item toc-item-h3\"><a class=\"toc-link toc-link-h3\" href=\"#このプラグインのメリット\">このプラグインのメリット</a></li></ol></li><li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#まとめ\">まとめ</a></li></ol></nav></div>関連記事の表示はサイトの回遊率を上げるのに非常に有効な手段です。<br /><br />WordPressでは関連記事を取得する機能はないため、プラグインを利用したり自分で実装する必要があります。<br /><br />試しに「wordpress 関連記事 プラグイン」で調べてみるとそれらしい記事はたくさんヒットします。<br /><br />上位サイトを覗いてみたところ多くのサイトで「<strong>WordPress Related Posts」</strong>を紹介していました。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fja.wordpress.org%2Fplugins%2Fwordpress-23-related-posts-plugin%2F?id=blog-card-bfh8bled7e&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-security-wordpress-related-posts%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-bfh8bled7e\"></iframe></div><br /><br />有効インストール数は100000以上でとても人気のプラグインのようです。<br /><br />プラグインを開発している身としては、どうしてそんなに人気があるのか気になります。<br /><br />実際にダウンロードして色々と調べてみました。<br /><h2 id=\"wordpress-related-posts-の特徴\">WordPress Related Posts の特徴<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#wordpress-related-posts-の特徴\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />紹介されている内容として多くあったのは「デザインが複数」や「設定が簡単」などでした。<br /><br />さっそくプラグインを有効化して確認してみます。<br /><br />するとまだ何も設定していないにもかかわらず記事の最後に関連記事が表示されるようになりました。<br /><br /><a href=\"https://technote.space/uploads/2018/10/201810110356.png\"><img class=\"alignnone size-medium wp-image-435\" src=\"https://technote.space/uploads/2018/10/201810110356-300x137.png\" alt=\"\" width=\"300\" height=\"137\"></a><br /><br />あとは関連記事のタイトルが変えられればとりあえずは問題なさそうです。<br /><br />プラグインの設定画面を確認してみます。<br /><br /><a href=\"https://technote.space/uploads/2018/10/201810110309.png\"><img class=\"alignnone size-medium wp-image-433\" src=\"https://technote.space/uploads/2018/10/201810110309-300x259.png\" alt=\"\" width=\"300\" height=\"259\"></a><br /><br />日本語化されていませんがこの時点で設定の数はたったの２つしかなく、さきほど変えたいと思ったタイトルの変更箇所がすぐにわかります。<br /><br />さらに「Advanced settings」を開くと細かい設定が出てきます。<br /><br /><a href=\"https://technote.space/uploads/2018/10/201810110310.png\"><img class=\"alignnone size-medium wp-image-434\" src=\"https://technote.space/uploads/2018/10/201810110310-300x260.png\" alt=\"\" width=\"300\" height=\"260\"></a><br /><br />評判通り色々なデザインがあらかじめ用意されているようです。<br /><br />選択肢をホバーすればどのようになるのかがすぐわかるので、いちいち保存して確認しに行く必要がありません。<br /><br />タイトルを変更してデザインも好きなものを選んで保存すれば求めていたことが実現されることでしょう。<br /><h2 id=\"非常に有用なプラグイン\">非常に有用なプラグイン<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#非常に有用なプラグイン\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />普通にブログを書いている人からすればきっとそう思うでしょう。<br /><br /><strong>簡単に</strong> かつ <strong>十分にきれいな関連記事が表示</strong>さえされれば、普通の利用者はこのプラグインが裏でどのような動作をしているかは気にならないものです。<br /><br />では実際にこのプラグインが裏で行っている処理を見ていきましょう。<br /><h2 id=\"プラグインを有効化したとき\">プラグインを有効化したとき<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#プラグインを有効化したとき\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />有効化と同時にこのプラグインは以下の情報を<span class=\"double-underline\" data-ma_color1=\"1\">Mixpanelというサービスに送信</span>します。<br /><ul><br /> \t<li><strong>サイトのホスト名</strong></li><br /> \t<li><strong>サーバーのIP</strong></li><br /> \t<li><strong>サーバーのPHPのバージョン</strong></li><br /> \t<li>このプラグインを有効化したという情報</li><br /> \t<li>操作した時間</li><br /></ul><br />Mixpanelというサービスはアクセス解析などに使用されるものです。<br /><br />あなたがこのプラグインを有効化したという情報はサーバの情報とともに収集されています。<br /><br />こういった情報が送信されることを事前に理解していましたか？<br /><br />一応プラグインページに利用規約のリンクがありますがリンク切れです。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fwww.sovrn.com%2Feditorial-network-terms-of-service%2F?id=blog-card-ihqo3itlda&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-security-wordpress-related-posts%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-ihqo3itlda\"></iframe></div><br /><br />プライバシーポリシーとして載っているほうのリンクは見ることができます。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fwww.sovrn.com%2Fsovrn-legal-policies%2F%23pills-1?id=blog-card-epbcap8k3o&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-security-wordpress-related-posts%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-epbcap8k3o\"></iframe></div><br /><br />こちらには一応IPを含むブラウザや端末を識別するための個人情報を集めることやそれをサードパーティに提供すること、利用状況を監視することが書いてあります。<br /><br />しかしブラウザや端末を識別するための個人情報に関する記述はありましたが、サーバの情報を収集する記述は見つかりません。<br /><br />結局サーバの情報などをサードパーティに提供することは知らされていません。<br /><br />さらに利用規約がリンク切れであるため、このプライバシーポリシーまで確認する人はほとんどいないのではないでしょうか<br /><br />もっと言えばIPアドレスなどはハッシュ化すると書いてあるのにハッシュ化せずに使用しているのも問題です。<br /><h2 id=\"設定画面に毎日アクセスしてみる\">設定画面に毎日アクセスしてみる<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#設定画面に毎日アクセスしてみる\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />「WordPress Related Posts」の設定画面にアクセスすると、<span class=\"double-underline\" data-ma_color1=\"1\">一日に一回サーバの情報と紐づいた情報が送られます。</span><br /><br />利用規約の通り、あなたがこのプラグインを使用しているということは監視されています。<br /><h2 id=\"無効化時\">無効化時<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#無効化時\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />想像通りだと思いますが、この時も<span class=\"double-underline\" data-ma_color1=\"1\">無効化したという情報を送信</span>してくれます。<br /><br />あなたがこのプラグインを使わなくなったということが、あなたのサーバの情報とともに送られます。<br /><h2 id=\"設定画面にアクセス時\">設定画面にアクセス時<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#設定画面にアクセス時\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />「WordPress Related Posts」の設定画面を開くたびに「Zemanta」というサービスと連携するために<br /><pre>http://api-ea.sovrn.com/services/rest/0.0/<br /></pre><br />というAPIにアクセスします。<br /><br />少し古い記事を見てみたところ、かつては携帯端末とPCとでクリック率等を表示するために使用していたサービスのようで、有効化するときにサービス利用規約的なのに同意するといった文言があったようです。<br /><br /><div class=\"blog-card\"><iframe src=\"https://blog-card-ten.vercel.app/card/https%3A%2F%2Fgurikoman.com%2Frelated-posts-by-zemanta-740?id=blog-card-soa6db1hpg&#x26;referrer=https%3A%2F%2Ftechnote.space%2Fposts%2Fwpxml-security-wordpress-related-posts%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" data-id=\"blog-card-soa6db1hpg\"></iframe></div><br /><br />前述のように今は稼働していないようです。<br /><h2 id=\"どのような判断で関連記事を決めているか\">どのような判断で関連記事を決めているか<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#どのような判断で関連記事を決めているか\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />tf-idfのようなもので算出しているようです。<br /><br />tf-idfは関連記事を求めるのによく使われる手法なので、アプローチとしては正しいです。<br /><br />ただ日本語記事の場合はこのプラグインの処理では意味のあるものにはなっていません。<br /><h3 id=\"tfの算出\">tfの算出<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#tfの算出\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br />tfとは単語の出現頻度、すなわち記事の中にある単語がどのくらい含まれているかの割合です。<br /><br />このプラグインではtfは「タグ」と「カテゴリ」と「タイトルと本文から抽出した単語」をそれぞれ重みづけしたもので導出しています。<br /><br />重みはタグは１０倍、カテゴリーは５倍、単語は２倍になっています。<br /><br />ただし「タイトルと本文から抽出した単語」は以下のような処理で抽出されています。<br /><ol><br /> \t<li>「タイトルを空白で分割した集合」と「本文を空白で分割した集合」を合わせて先頭から２００件取得（⇒英語の文章であれば単語の集合になるが日本語では…）</li><br /> \t<li>それぞれの単語に対して、<br /><ol><br /> \t<li>小文字に変換</li><br /> \t<li>英単語に使われるような文字（アルファベットや数字）以外を削除（もはや日本語は含まれない）</li><br /> \t<li>英単語の正規化</li><br /> \t<li>使用頻度を集計</li><br /></ol><br /></li><br /> \t<li>それぞれの集計された単語に対して<br /><ol><br /> \t<li>辞書登録された単語かどうか判定（lib/unigrams.csv）</li><br /> \t<li>「辞書登録された恐らく様々な文章から集計した単語の使用頻度の逆数（idfに相当）と思われる値」と「記事内での疑似的な使用回数をルート２した値」を掛けた値を評価値として保存（tf-idfとは違うが似たような値）</li><br /></ol><br /></li><br /> \t<li>評価値の高い順に並び替えて先頭の１５個の単語を「タイトルと本文から抽出した単語」として使用</li><br /></ol><br />いろいろ処理をしていますが<span class=\"double-underline\">日本語に関しては全く考慮されていません。</span><br /><br />実際にQiitaで見つけた適当な記事で抽出された単語をvar_dumpしてみた結果です。<br /><pre>array (size=6)<br />  'idc' => float 0.038011695906433<br />  'ls' => float 0.025296442687747<br />  'div' => float 0.020052770448549<br />  10 => float 0.013195470211718<br />  'a' => float 0.009815123425433<br />  'id' => float 0.0072491278699008<br /></pre><br /><pre>array (size=22)<br />  'wip' => float 0.10532994923858<br />  'app' => float 0.10421374296051<br />  'lili' => float 0.093619341937829<br />  'lia' => float 0.069284064665127<br />  'ul' => float 0.050354609929078<br />  'api' => float 0.045795543612138<br />  'code' => float 0.04433888441912<br />  'rust' => float 0.043381535038932<br />  'div' => float 0.040105540897098<br />  'hook' => float 0.034950692551906<br />  'github' => float 0.032662192393736<br />  'cargo' => float 0.028380423814329<br />  'li' => float 0.023232382997962<br />  'ol' => float 0.020092041755528<br />  'releas' => float 0.018155341509202<br />  'ci' => float 0.017123287671233<br />  'a' => float 0.017000292455409<br />  'url' => float 0.0097022044566265<br />  'span' => float 0.0071037315987675<br />  'warn' => float 0.0069141235740344<br />  'merg' => float 0.0046314780803322<br />  'id' => float 0.0041852859270773<br /></pre><br /><pre>array (size=4)<br />  'aa' => float 0.042318634423898<br />  'div' => float 0.028358899931492<br />  'span' => float 0.016659727322207<br />  'id' => float 0.0059188881204819<br /></pre><br /><pre>array (size=19)<br />  'app' => float 0.18050349765452<br />  'googl' => float 0.095306368156461<br />  'alt' => float 0.081311562818174<br />  'h2' => float 0.073587385019711<br />  'gt' => float 0.055269922879177<br />  'ga' => float 0.054751778921616<br />  'aa' => float 0.042318634423898<br />  'a' => float 0.040468790611534<br />  8 => float 0.040403893255304<br />  'script' => float 0.030460274827131<br />  42 => float 0.022950819672131<br />  1 => float 0.022224657133987<br />  'div' => float 0.020052770448549<br />  5 => float 0.019731872160836<br />  58 => float 0.012737501326823<br />  45 => float 0.0076729776908174<br />  23 => float 0.0070726915520629<br />  'id' => float 0.0059188881204819<br />  56 => float 0.0051706308169597<br /></pre><br />HTMLのタグや数字が多く含まれています。<br /><br />これらからどれだけ記事が似ているか判断できるでしょうか？<br /><h3 id=\"idfの算出\">idfの算出<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#idfの算出\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br />idfとは逆文書頻度、すなわち全ての記事でどのくらいその単語が使用されているかの割合の逆数です（単語のレア度）。<br /><br />先ほどの処理内容の３．２に相当します。<br /><br />あなたが投稿した記事からではなく、このプラグインの提供している辞書から判定しています。<br /><br /><span class=\"double-underline\">この辞書はもちろん英語にしか対応していないため日本語ではほとんど意味はありません。</span><br /><h3 id=\"評価値の算出\">評価値の算出<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#評価値の算出\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br />タイトルや本文からは意味のない評価値しか得られないため、結局のところ「タグ」と「カテゴリ」のみで判定されているようなものです。<br /><br />それであれば先に挙げたような無駄な処理は不要で、同じタグやカテゴリを持つ記事をランダムでとってきてもさほど違いはないと思います。<br /><h3 id=\"このプラグインのメリット\">このプラグインのメリット<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#このプラグインのメリット\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h3><br />このプラグインのメリットは無意味な処理で機械的に算出された関連記事よりも、記事画面から手動で好きな記事を関連記事として簡単に登録できる点にあると思います。<br /><br /><a href=\"https://technote.space/uploads/2018/10/201810110321.png\"><img class=\"alignnone size-medium wp-image-439\" src=\"https://technote.space/uploads/2018/10/201810110321-300x223.png\" alt=\"\" width=\"300\" height=\"223\"></a><br /><br />この機能は操作感もよく直観的で、非常に素晴らしいものです。<br /><h2 id=\"まとめ\">まとめ<a aria-hidden=\"true\" tabindex=\"-1\" href=\"#まとめ\"><svg class=\"icon icon-link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 24 24\" aria-labelledby=\"paperclipIconTitle\" stroke=\"#2329EE\" stroke-width=\"1\" stroke-linecap=\"square\" stroke-linejoin=\"miter\" fill=\"none\" color=\"#131996\"><path d=\"M7.93517339,13.7795989 L15.1617306,6.55304173 C16.03921,5.67631227 17.4656766,5.67631227 18.343156,6.55304173 C19.2206355,7.43052116 19.2206355,8.85773771 18.343156,9.73521714 L8.40091248,19.5477137 C6.93619681,21.0124294 4.56325242,21.0124294 3.09853675,19.5477137 C1.63382108,18.083748 1.63382108,15.7093037 3.09853675,14.245338 L12.9335328,4.53783896 C14.9839848,2.48738701 18.3094068,2.48738701 20.3568588,4.53783896 C22.4088107,6.58904088 22.4088107,9.91146301 20.3583588,11.961915 L13.2390491,19.0819746\"></path></svg></a></h2><br />WordPressの関連記事を検索してきたときに上位に出てくるサイトでよく称賛されているプラグインだとしても、裏ではいろいろな情報を勝手に取得している場合があります。<br /><br />本来は個人を特定できないCookieでさえプロファイルで特定可能だとか色々言われて個人情報保護が謳われている今日において、同意を得ていない情報を第三者に送信するのは問題ないのでしょうか。<br /><br /><span class=\"double-underline\">デザインの重要性や導入・設定の容易さ</span>は見習うべきところがあり、今後のプラグイン開発に生かしていきたいです。</body></html>","excerpt":"関連記事の表示はサイトの回遊率を上げるのに非常に有効な手段です。 WordPressでは関連記事を取得する機能はないため、プラグインを利用したり自分で実装する必要があります。 試しに「wordpress 関連記事 プラグイン」で調べてみると...","postType":"post","tags":[{"slug":"wordpress-related-posts","name":"WordPress Related Posts"},{"slug":"%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3","name":"セキュリティ"}],"thumbnail":"https://technote.space/uploads/2018/07/WordPress-logotype-wmark.png","dominantColor":"rgba(50,55,60,0.18823529411764706)","createdAt":"2018-10-11T09:01:19.000Z","updatedAt":null},"prev":{"id":"wpxml-wordpress-minimum-apply-action-filter","title":"WordPressのアクションやフィルタの適用を最小限にする","excerpt":"「add_action」や「add_filter」によってフックすることでWordPressの機能を拡張することができますが、闇雲に追加すると他で追加されたものと競合して予期せぬ動作になってしまうことがあります。 REMOVE_ACTION...","postType":"post","tags":[{"slug":"php","name":"PHP"},{"slug":"wordpress","name":"WordPress"},{"slug":"%e3%82%a2%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3","name":"アクション"},{"slug":"%e3%83%95%e3%82%a3%e3%83%ab%e3%82%bf","name":"フィルタ"}],"thumbnail":"https://technote.space/uploads/2018/07/WordPress-logotype-wmark.png","createdAt":"2018-10-27T20:02:25.000Z","updatedAt":null},"next":{"id":"wpxml-wordpress-action-and-filter","title":"WordPress の「アクション」と「フィルタ」を「フック」してプラグインを開発してみる","excerpt":"の続き 最小限のプラグインが用意出来たので機能を実装していきます。   最初に  WordPressのプラグインを作成するうえで絶対に必要な概念として「アクション」と「フィルタ」があります。  WordPressは本体だけで色々な機能が備わ...","postType":"post","tags":[{"slug":"wordpress","name":"WordPress"},{"slug":"%e3%82%a2%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3","name":"アクション"},{"slug":"%e3%83%95%e3%82%a3%e3%83%ab%e3%82%bf","name":"フィルタ"},{"slug":"%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3","name":"プラグイン"},{"slug":"%e9%96%8b%e7%99%ba","name":"開発"}],"thumbnail":"https://technote.space/uploads/2018/07/WordPress-logotype-wmark.png","createdAt":"2018-10-07T12:53:40.000Z","updatedAt":null},"headerPages":[],"footerPages":[{"label":"About","url":"/pages/wpxml-about/"},{"label":"プライバシーポリシー","url":"/pages/wpxml-privacy-policy/"},{"label":"お問い合わせ","url":"/pages/wpxml-contact/"}]},"__N_SSG":true}